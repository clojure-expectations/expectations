<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Expectations by jaycfields</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Expectations</h1>
        <p class="header">a minimalist's unit testing framework</p>

        <ul>
          <li><a class="buttons" href="index.html">Home</a></li>
          <li><a class="buttons" href="installing.html">Installing</a></li>
          <li><a class="buttons" href="introduction.html">Introduction</a></li>
          <li><a class="buttons" href="advanced.html">Advanced</a></li>
          <li><a class="buttons" href="collections.html">Collections</a></li>
          <li><a class="buttons" href="double-nan.html">Double/NaN</a></li>
          <li><a class="buttons" href="templating.html">Templating</a></li>
          <li><a class="buttons" href="expect-let.html">Expect-Let</a></li>
          <li><a class="buttons" href="odds-ends.html">Odds & Ends</a></li>
          <li><a class="buttons" href="in-context.html">Around Each</a></li>
          <li><a class="buttons" href="before-run-hook.html">Before Suite</a></li>
          <li><a class="buttons" href="state-warnings.html">State Warnings</a></li>
          <li><a class="buttons" href="redef-state.html">Redef State</a></li>
          <li><a class="buttons" href="interactions.html">Interactions</a></li>
          <li><a class="buttons" href="interaction-args.html">Interaction Args</a></li>
          <li><a class="buttons" href="java-interactions.html">Java Interaction</a></li>
          <li><a class="buttons" href="freeze-time.html">Freeze Time</a></li>
          <li><a class="buttons" href="env-tweaks.html">ENV Tweaks</a></li>
          <li><a class="buttons" href="emacs-tweaks.html">emacs Tweaks</a></li>
          <li><a class="buttons github" href="https://github.com/jaycfields/expectations">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/jaycfields">jaycfields</a></p>


      </header>
      <section>
        <h1>
<a name="expectations" class="anchor" href="#expectations"><span class="octicon octicon-link"></span></a>expectations</h1>

<blockquote>
<p>adding signal, removing noise</p>
</blockquote>

<h2>
<a name="envcolor" class="anchor" href="#envcolor"><span class="octicon octicon-link"></span></a>Colorizing Output</h2>

After version 1.4.2, expectations prints colorized results by default on non-windows boxes.
<br><br>
The following screenshot is an example of the output when no tests are failing:
<br><br>
<div class="separator" style="clear: both;">
<a href="http://3.bp.blogspot.com/-zlr9XXR-uLQ/T6_gdCp5R2I/AAAAAAAAAFw/yHY4UzHsl9I/s1600/Screen%2Bshot%2B2012-05-13%2Bat%2B12.24.38%2BPM.png" imageanchor="1" style=""><img border="0" height="122" width="400" src="http://3.bp.blogspot.com/-zlr9XXR-uLQ/T6_gdCp5R2I/AAAAAAAAAFw/yHY4UzHsl9I/s400/Screen%2Bshot%2B2012-05-13%2Bat%2B12.24.38%2BPM.png" /></a></div>
<br>
And, the following screenshot is an example of the output when there are failures or errors:
<br><br>
<div class="separator" style="clear: both;">
<a href="http://1.bp.blogspot.com/-8mJhAQkQU4M/UbdtZ5iJZ_I/AAAAAAAAAPs/R0n-7YBVvp4/s1600/Screenshot+from+2013-06-11+14:32:49.png" imageanchor="1" ><img border="0" width="400" src="http://1.bp.blogspot.com/-8mJhAQkQU4M/UbdtZ5iJZ_I/AAAAAAAAAPs/R0n-7YBVvp4/s320/Screenshot+from+2013-06-11+14:32:49.png" /></a>
</div>
<br>
Colorized output is one of those small things that is easy to de-prioritize, but once it's done you can't figure out why you didn't do it earlier. The code to colorize your results is very simple,
and there's even a lib, <a href="https://github.com/ibdknox/colorize">colorize</a>, if you prefer to simply include a dependency instead.
<br><br>
Of course, if you prefer to stick with non-colorized results that's possible as well - simply set the environment variable EXPECTATIONS_COLORIZE to 'false'.
<br><br>
<h2><a name="envcolor" class="anchor" href="#envcolor"><span class="octicon octicon-link"></span></a>Remove 'raw' Output</h2>
By default, expectations pretty-prints the raw expectation. Below is the output from a failing test, in a terminal. (raw expectation in lightblue)
<div class="separator" style="clear: both;">
<a href="images/fail-with-raw.png"><img border="0" width="400" src="images/fail-with-raw.png"/></a>
</div>
The raw expectation is (probably) helpful when you're running tests from the command line; however, that same output is probably noise when you're running tests inside emacs.
When using <a href="https://github.com/gar3thjon3s/expectations-mode">expectations-mode</a> the failing (or erroring) expectation will be highlighted, and you can hit <code>C-c '</code> to see the details.
The details appear in the minibuffer, and I can't see much value in printing the raw expectation - (a) it forces the minibuffer to a larger size and (b) the raw expectation is directly in front of you, you had to have the cursor on it to see the details.
<br><br>
To (once again) remove noise, you can set the EXPECTATIONS_SHOW_RAW environment var to 'false', and the raw expectation will no longer appear in the details.
Below is the same output as what's shown above in the terminal; however, it's shown in emacs and the raw expectation is omitted.
<div class="separator" style="clear: both;">
<a href="images/fail-without-raw.png"><img border="0" width="400" src="images/fail-without-raw.png"/></a>
</div>

      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

  </body>
</html>
